+++
title = "📝コンピュータアーキテクチャ概論"
tags = ["WIKI"]
draft = false
+++

-   up: [📂ソフトウェア開発ドメイン]({{< relref "20220220102738.md" >}})
-   refs.
    -   [コンピュータ・アーキテクチャ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%83%BB%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3)
    -   [📝ストレージシステム概論]({{< relref "20220715084147.md" >}})


## コンピュータ・アーキテクチャとは {#54fbc3}

コンピュータ (特にハードウェア) における基本設計や設計思想などの基本設計概念.

3 つのサブカテゴリがある.

-   命令セットアーキテクチャ (ISA)
-   マイクロアーキテクチャ
-   [システムアーキテクチャ](#c60d1cf1-f661-4892-ab20-a249938fecb5)


## 命令セットアーキテクチャ {#f23f85}

-> アセンブリ言語のページを参照.


### 概要 {#7f1b21}

RISC, CISC, VLIW, EPIC アーキテクチャ


## マイクロアーキテクチャ {#e0facb}


### 概要 {#7f1b21}

-   演算アーキテクチャ
-   浮動小数点, 演算装置, SIMD/MIMD, ベクトル演算ユニット (ベクトル計算機)
-   CPU 制御アーキテクチャ
-   ワイヤードロジック, マイクロプログラム (マイクロアーキテクチャ), 実行ユニット, 制御装置
-   CPU 高速化アーキテクチャ
-   パイプライン, スーパースケーラ, アウト・オブ・オーダー実行, 分岐予測, レジスタ・ウィンドウ, レジスタ・リネーミング, 投機的実行
-   CPU バスアーキテクチャ
-   CPU バス (CPU 内部バス, CPU 外部バス《ピン》アーキテクチャ)
-   マルチプロセッサアーキテクチャ
-   対称型マルチプロセッサ (SMP), NUMA (ASMP), クロスバースイッチ <スタブ>
-   マルチスレッドアーキテクチャ
-   ブロック型マルチスレッディング, インターリーブ型マルチスレッディング, 同時マルチスレッディング


## システムアーキテクチャ {#c60d1cf1-f661-4892-ab20-a249938fecb5}


### 概要 {#7f1b21}

-   制御アーキテクチャ
-   割り込み制御, 入出力制御
-   バスアーキテクチャ
-   ハーバードアーキテクチャ, プログラム内蔵方式 (ノイマン型を含む)
-   クロスバースイッチ
-   システムバス, メモリバス, 入出力バス.
-   メモリアーキテクチャ
-   キャッシュメモリ, 仮想記憶, TLB  <スタブ> -- メモリ
-   ネットワークアーキテクチャ
-   <スタブ> -- コンピュータネットワーク
-   オペレーティングシステムアーキテクチャ
-   ページング方式アーキテクチャ. <スタブ>
-   分散処理アーキテクチャー


### CPU {#2b5538}

中央処理装置, プロセッサとも.

-   [CPU - Wikipedia](http://ja.wikipedia.org/wiki/CPU)

仕様で決められた一連の命令セットを実行できる.

記憶装置上にあるプログラムと呼ばれる命令列を順に読み込んで解釈・実行することで情報の加工を行う.


### Memory Architecture {#1552b3}


#### ROM {#2ab3e8}

書き込んだデータは消去できないが, 電源を切ってもデータが消えない読み出し専用のメモリ.


#### RAM {#e53619}

データの読み書きは自由に行えるが, 電源を切ると内容が消えるメモリ (Random Access Memory)

レジスタがたくさんあつまったもの. 各レジスタには、一位のアドレスが割り振られている.


### Cache Architecture {#0b72f8}

[📝キャッシュ]({{< relref "20220715090931.md" >}})


### Virtual Memory {#b5e87c}

仮想メモリ.メモリ管理技法の一種であり, マルチタスクオペレーティングシステムが不連続なメモリ領域をソフトウェア (プロセスなど) から見て連続になるように見せかけるもの.

-   [仮想記憶 - Wikipedia](http://ja.wikipedia.org/wiki/%E4%BB%AE%E6%83%B3%E8%A8%98%E6%86%B6)

セグメント方式とページング方式の二つの方法がある.


#### 関節参照 {#95c463}

indirection.
値を, 値を表すものそのもの直接によってではなく, 名前や参照などにより間接的に, 指し示すことおよびその参照や, それを参照して操作すること

-   [間接参照 - Wikipedia](http://ja.wikipedia.org/wiki/%E9%96%93%E6%8E%A5%E5%8F%82%E7%85%A7)

CS の世界での問題解決の常套手段.


#### MMU {#3c372f}

コンピュータ内部の部品.
仮想アドレスを物理アドレスに変換する機能をもつ, (ほかの仕事もしている)

-   [メモリ管理ユニット - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%A2%E3%83%AA%E7%AE%A1%E7%90%86%E3%83%A6%E3%83%8B%E3%83%83%E3%83%88)


#### ページング方式 {#2f7b1d}

記憶装置をページと呼ばれる小さな単位に分割して割り当てを行うアルゴリズム群である. 仮想記憶のベースとなる設計の一つ.

-   [ページング方式 - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%E6%96%B9%E5%BC%8F)

仮想メモリ番号と物理メモリ番号を対応づけるテーブル.

<!--list-separator-->

-  Pages

    バーチャルメモリ上のキャッシュをとくに Pages という.

<!--list-separator-->

-  Page Tables

    ページテーブル (Page Table) とは, コンピュータのオペレーティングシステムにおけるページング方式の仮想記憶システムで使われるデータ構造であり, 仮想アドレスと物理アドレスのマッピングを格納するものである. 仮想アドレス空間はプロセス毎に割り当てられ, 物理アドレスはシステム全体で RAM などを配置するアドレス.

    -   [ページテーブル - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB)

    ベージテーブルの先頭には valid flag があるので, まずはそれで参照したメモリか有効かどうかを判定する.

    共有ライブラリは, read only なため, この領域に対して write アクセスがあると, Page Fault 例外が発生する.

    Disk にある? それだ参照のオーバヘッドが大きいので, TLB がある.

<!--list-separator-->

-  Page Fault

    物理メモリ空間に対応づけられていない論理メモリを参照した時にはページフォルトという例外によって OS 側の例外処理ルーチンに制御が移行し,
    OS 側の管理によって適宜対応したページを二次記憶等から読み込み, テーブルを更新してその参照した命令の実行に戻る.

<!--list-separator-->

-  仮想メモリに関わる 3 つのテーブル

    -   TLB ... MMU
    -   Page Table ... DRAM
    -   Cache ... DRAM

<!--list-separator-->

-  TLB

    メモリ管理ユニット (MMU) 内のある種のキャッシュであり, 仮想アドレスから物理アドレスへの変換の高速化を図るもの.

    -   [トランスレーション・ルックアサイド・バッファ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B9%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%BB%E3%83%AB%E3%83%83%E3%82%AF%E3%82%A2%E3%82%B5%E3%82%A4%E3%83%89%E3%83%BB%E3%83%90%E3%83%83%E3%83%95%E3%82%A1)

    TLB は「PTE 専用のキャッシュ」.

    -   [ASCII.jp:仮想メモリーを支えるもうひとつのキャッシュ TLB ](http://ascii.jp/elem/000/000/567/567889/index-2.html)


#### セグメント方式 {#ec5a08}


## ノイマン型アーキテクチャ {#a645a2}

CPU を中心として、メモリデバイスを操作し、入力デバイスからデータを受け取り、出力デバイスへデータを送信する.

-   メモリ
    -   データメモリ
    -   命令メモリメモリ上にプログラムを保持するところがノイマン的.
-   CPU
    -   ALU
    -   レジスタ
    -   制御ユニット
-   レジスタ
    -   データレジスタ
    -   アドレスレジスタ
    -   プログラムカウンタレジスタ次にフェッチする命令メモリ上のアドレスを保持して、一つ命令を実行する度にインクリメントしていく.
-   入出力装置メモリマップド I/O によってメモリ操作のように制御
