+++
title = "📝高頻度取引"
lastmod = 2022-09-24T10:07:04+09:00
tags = ["WIKI"]
draft = false
+++

-   up: [📝アルゴリズム取引]({{< relref "20220714203637.md" >}})
-   refs.
    -   [📝トレードアルゴリズム]({{< relref "20220716193728.md" >}})
    -   [スキャルピング]({{< relref "20220716192433.md#c487a387-0526-4d89-9b9a-d1621212ac82" >}})

仮想通貨のトレードについては[📝高頻度bot]({{< relref "20220716131618.md" >}})にまとめているがここではより一般論を集める. 古くから株取引の研究がされてきているようだ.


## 高頻度取引とは {#aeefd1}

High-Frequency Trading, HFTと略されることがおおい.

売買を高速かつ高頻度で行う[📝アルゴリズム取引]({{< relref "20220714203637.md" >}})戦略の一種.

マーケット・マイクロストラクチャーの分野で研究が進められ, [在庫モデル](#35978351-d282-440d-b33e-709c230e813d)と[情報モデル](#9ead5e99-54ce-460a-ad4d-ad08448caa1c)の２つに分解できる.

以下, わかりやすい.

[高頻度取引とは何か？](https://www.sparx.co.jp/report/special/2718.html)

基本的には[📝マーケットメイク]({{< relref "20220716165800.md" >}})と[📝アービトラージ]({{< relref "20220711164735.md" >}}). いずれも価格予測をする必要がない.


### HFT高速化の対象 {#612cea}

全体のスピードは以下の3つのイシューに分解できる. 1つがボトルネックになると全体のスピードが落ちるという関係.

HFT高速化 = 情報取得 + 情報処理 + 発注

-   取引判断のための情報取得の高速化
    -   websocket
    -   ネットワーク遅延対策
-   取得した情報を処理し発注するまでの高速化
    -   言語選定
    -   アルゴリズム高速化
    -   サーバ増強
-   注文情報が市場の売買システムに到達するまでの高速化
    -   サーバロケーション
    -   専用線の構築
    -   ネットワーク遅延対策


## 高頻度取引の収益源 {#913d60}

主に[ポジション損益]({{< relref "20220716193437.md#b531b20f-7604-4f38-9564-89a960c2f895" >}})と[スプレッド損益]({{< relref "20220716193437.md#fd94ee1b-7344-482c-b088-319ab2cfcae6" >}}).


### 💡高頻度取引の損益 はスプレッド損益とポジション損益 {#d396cdef-0320-4fa0-a505-f09b215f5afe}

収益源をスプレッド損益とポジション損益の2つに分解できる.

高頻度取引の損益 = スプレッド損益 + ポジション損益

bidとaskの価格差の利益, トレンド発生による価格変動でのポジション収益.


### 💡ポジションの保有時間と損益 {#05982242-fb8d-4e5c-a6a8-a30fb71cf4ac}

ポジションは5秒を超えると価格変動によって動く可能性がある. コレの意味するところは[📝マーケットメイク]({{< relref "20220716165800.md" >}})によって両方に指した指値の片方が閉じた場合, 5秒以上反対が閉じなければその後に価格が下がって損をする可能性が高まる.

さらにいえばもう５秒を超えたらマーケットメイク戦略ではなくトレンドの手仕舞い戦略が必要.

さらにいえば制限時間5秒を検出するためには情報取得の高速化(websocket)の活用が有効.

ref. <https://onlinelibrary.wiley.com/doi/full/10.1111/j.1540-6261.2010.01624.x>

---

[UKI]({{< relref "20220712161715.md#84fc275c-5877-4ce2-9e27-b5eda59c3812" >}})さんのブログにも5秒が登場するのは偶然の一致なのか?

[2週間で利回り4000%超を達成したトレーディングbot構築の考え方｜UKI｜note](https://note.com/uki_profit/n/n24a110c0a609)


## 📍高頻度取引戦略: 在庫モデル {#35978351-d282-440d-b33e-709c230e813d}

ポジションを持っている間の価格変動リスクのハンドリング.

具体的には, 価格が動く前にいかにして早くポジションを閉じるか.

-   売買の高速化
-   手仕舞い(損切)戦略

マーケットメイクのページで詳しくまとめた.

[📍マーケットメイクとトレンド対策]({{< relref "20220716165800.md#7f75ae31-b9a1-4af2-96a1-db484c261939" >}})


### 在庫モデルに関連するトレード戦略 {#c48dc9}

-   Wait for the othe side
-   Lean your market
-   Scratch for the rebate


## 📍高頻度取引戦略: 情報モデル {#9ead5e99-54ce-460a-ad4d-ad08448caa1c}

注文に付随する情報量や売買注文量の偏りを分析して, トレンド方向を予測することでリスクを低減して収益を上げる戦略.

これの意味する別の側面は, マーケットメイク戦略だけではトレンド発生で損をするため, トレンド予測と組み合わせることが必要.

-   refs.
    -   [⚙アルファを探せ]({{< relref "20220915053805.md" >}})
    -   [💡マーケットメイクと逆選択リスク]({{< relref "20220716165800.md#cf7b1353-ca17-4ae5-b344-918785aa81ce" >}})
    -   [💡mmbotの収益源がマーケットメイクでない?]({{< relref "20220716164647.md#660b6b3f-f00b-4657-83f7-dc4f6173e9cb" >}})
    -   [📍逆選択リスク対応]({{< relref "20220716164647.md#1d660725-713d-4fa7-90af-a912d2061098" >}})


### 歩み値からの偏り検出 {#c8068d}

約定履歴を分析することでトレンドを検出する.

VPINが有名. [VPINによる市場変動予測]({{< relref "20220731094500.md#9ec43900-1beb-4606-a224-84bb72c56a0a" >}}).


### 注文フローの偏り {#772e34eb-8360-4e8c-9a41-9aad251690f7}

Order flow imbalance, OFI. 板情報からの偏り検出

板情報の注文フローの分析(Order Flow Analysis)からトレンドを検出.

[杉原論文]({{< relref "20220716193728.md#2b011271-d8b2-416d-90b4-7db9373be42e" >}})にもこのトピックを取り上げた項がある.

mid-priceを改良した[MicroPrice]({{< relref "20220716165800.md#d624d08f-1095-428f-a4ad-25c6087c763e" >}}) Indicatorをつかうなど.

-   <https://github.com/sanjeevai/order-imbalance>
-   <https://github.com/shaileshkakkar/OrderImbalance>
-   [Order Flow Analysis of Cryptocurrency Markets | by Ed Silantyev | Medium](https://medium.com/@eliquinox/order-flow-analysis-of-cryptocurrency-markets-b479a0216ad8)
-   [Price Impact of Order Book Imbalance in Cryptocurrency Markets | by Basile | Towards Data Science](https://towardsdatascience.com/price-impact-of-order-book-imbalance-in-cryptocurrency-markets-bf39695246f6)


### 情報モデルに関連するトレード戦略 {#d3b2aa}

-   [Penny Jump]({{< relref "20220716165800.md#a46b85cc-5013-4e26-810f-bc2c9411a3df" >}})
-   Push the elephant
-   Tow the iceberg


## 🔗References高頻度取引 {#82196c}

-   <https://mizutatakanobu.com/jindex.htm>
    -   [高頻度取引業界-競争激化と制度・規制の整備](https://www.sparx.co.jp/report/special/2753.html)
    -   [高頻度取引ではないアルゴリズム取引と不公正取引の取り締まり高度化](https://www.sparx.co.jp/report/special/2764.html)
-   [◆アルゴリズム取引~高頻度取引編|～取引後のコスト分析をしよう、敵を知り己を知れば百戦危うからず～◆ - Qiita](https://qiita.com/kanawoinvest/items/639b974095d747da5ce2)
-   [ＨＦＴ・アルゴリズム（５） - これからの「お金」の話をしよう](https://we.love-profit.com/entry/2016/10/20/093329)


### 🎥ハミングバード・プロジェクト 0.001秒の男たち[2019] {#85505a}

高頻度取引をテーマにした映画.

[ハミングバード・プロジェクト 0.001秒の男たち - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%9F%E3%83%B3%E3%82%B0%E3%83%90%E3%83%BC%E3%83%89%E3%83%BB%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88_0.001%E7%A7%92%E3%81%AE%E7%94%B7%E3%81%9F%E3%81%A1)

ソーシャルネットワークの映画でザッカーバーグを演じていたジェシー・アイゼンバーグ主演.


### JPX WORKING PAPER: 東京証券取引所におけるHigh-Frequency Tradingの分析[2014] {#922026}

HFTを知りたいときによく引用されるホワイトペーパー. 2014時点での情報がまとまっている.

<https://www.jpx.co.jp/corporate/research-study/working-paper/tvdivq0000008q5y-att/JPX_working_paper_No.4.pdf>


### 杉原論文 {#58b168}

第4章.

ref. [📄執行戦略と取引コストに関する研究の進展 - 杉原慶彦]({{< relref "20220716193728.md#2b011271-d8b2-416d-90b4-7db9373be42e" >}})

さらにこの論文が以下の参考文献を参照している.

[Amazon.co.jp: All About High-Frequency Trading : Durbin, Michael: Foreign Language Books](https://www.amazon.co.jp/-/en/gp/product/0071743448/ref=dbs_a_def_rwt_hsch_vapi_taft_p1_i1)


### HFT(高頻度取引)は群集心理的な行動を採るか[2016] {#28b95b}

<https://www.jsri.or.jp/publish/research/pdf/94/94_03.pdf>


### 💡典型的なHFT業者は要するにマーケットメイクをしている {#816aca98-c0e8-46a3-af59-2f80e94d67f9}

この記事はmmbotがなぜ強いのかを説明するときによいかもしれない.

ref. [トレードに常勝はあり得るか？ HFT(高頻度取引)業者バーチュの手法＝田渕直也](https://www.mag2.com/p/money/221183)

> 米国のHFT(高頻度取引)業者バーチュ・ファイナンシャルという会社が、過去1237日のうち損失を計上したのがたった1日であると発表した.
>
> 典型的なHFT業者は要するにマーケットメイクをしている.
>
> リスク回避をいかに正確かつ迅速にできるかどうかが、マーケットメイク型HFTの成否を決める要因となります.
>
> これは相場の読みを当て続けたというのとは全く性格が異なる.

-   [📝mmbot]({{< relref "20220716164647.md" >}})
-   [📝マーケット・メイキング・アルゴリズム]({{< relref "20220716165800.md#e4dd477c-8553-4d2c-8e61-224b22ba8e34" >}})
